---
import Default from '@astrojs/starlight/components/Sidebar.astro'
import gitMetadata from '@utils/gitMetadata.mjs'

const isDev = import.meta.env.DEV
---

<Default><slot /></Default>

{
  isDev && (
    <footer>
      <p>
        <svg
          aria-hidden="true"
          focusable="false"
          class="octicon octicon-git-branch"
          viewBox="0 0 16 16"
          width="16"
          height="16"
          fill="currentColor"
          style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"
        >
          <path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z" />
        </svg>
        {gitMetadata}
      </p>
    </footer>
  )
}

<style>
  footer {
    margin-top: auto;
    padding-bottom: 0.5rem;
    font-size: 0.75rem;
    color: var(--sl-color-gray-3);
    text-align: center;

    p {
      text-wrap-mode: nowrap;
      overflow-x: scroll;
    }
  }

  @media (min-width: 800px) {
    footer {
      padding-bottom: 0;
      text-align: left;
    }
  }
</style>
